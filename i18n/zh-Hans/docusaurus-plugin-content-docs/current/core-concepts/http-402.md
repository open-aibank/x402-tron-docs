# HTTP 402

## 什么是 HTTP 402？

HTTP 402 是一个标准但很少使用的 HTTP 响应状态码，表示访问资源需要付款。

在 x402-tron 中，此状态码用于：

- 通知客户端（买家或代理）需要付款
- 传达支付详情，如金额、代币和目标 TRON 地址
- 提供通过 TIP-712 签名以编程方式完成支付所需的信息

## 为什么 x402-tron 使用 HTTP 402

HTTP 402 的主要目的是为访问 Web 资源启用无摩擦的、API 原生的支付，特别适用于：

- 机器对机器 (M2M) 支付（例如 AI 代理）
- 按使用付费模型，如 API 调用或付费内容
- 无需账户创建或传统支付渠道的小额支付
- 基于 TRON 的稳定币 (USDT) 支付，实现全球可访问性

使用 402 状态码使 x402-tron 协议保持原生 Web 兼容性，并易于集成到任何基于 HTTP 的服务中。

## 支付头

x402-tron 使用标准化的头进行支付通信：

- **PAYMENT-REQUIRED**：包含来自服务器的 Base64 编码的支付要求
- **PAYMENT-SIGNATURE**：包含来自客户端的 Base64 编码的支付负载
- **PAYMENT-RESPONSE**：包含来自服务器的 Base64 编码的结算响应

## 支付要求结构

当服务器返回 402 响应时，PAYMENT-REQUIRED 头包含支付详情，包括方案、网络、金额、资产、payTo 地址和费用信息。

## 支付签名结构

客户端在 PAYMENT-SIGNATURE 头中使用 TIP-712 签名的负载进行响应，包含签名和授权详情。

## 总结

HTTP 402 是 x402-tron 协议的基础，使服务能够直接在 HTTP 响应中声明支付要求。它：

- 发出需要付款的信号
- 传达必要的支付详情（金额、代币、TRON 地址）
- 与标准 HTTP 工作流无缝集成
- 在 TRON 区块链上启用程序化支付

# 卖家快速入门

**注意**：本快速入门从测试网配置（TRON Nile）开始以便安全测试。当您准备好投入生产时，请参阅"在主网上运行"部分，了解在 TRON 主网上接受真实支付所需的简单更改。

## 前提条件

在开始之前，请确保您具备：

- 用于接收资金的 TRON 钱包（任何兼容 TRON 的钱包）
- 已安装 Python 3.10+ 和 pip（用于 Python SDK）
- 已安装 Node.js 18+ 和 npm（用于 TypeScript SDK）
- 现有的 API 或服务器

## 1. 安装依赖

安装带有 FastAPI 支持的 x402-tron Python 包：

```bash
pip install x402-tron[fastapi]
```

## 2. 添加支付中间件

将支付中间件集成到您的应用程序中。您需要提供：

- 促进者 URL。用于测试时，运行您自己的本地促进者或使用托管的促进者
- 您想要保护的路由
- 您的 TRON 接收钱包地址

### 路由配置

配置受保护路由时，您需要指定：

- **price**：支付金额（例如 "1 USDT" 或原始金额如 "1000000"）
- **network**：TRON 网络标识符（例如 tron:nile, tron:mainnet）
- **pay_to**：您用于接收支付的 TRON 钱包地址

## 3. 运行促进者

x402-tron 需要促进者来验证和结算支付。您可以运行自己的促进者。

这将在 http://localhost:8001 上启动促进者，提供以下端点：

- **GET /** - 服务信息
- **GET /supported** - 支持的功能
- **POST /verify** - 验证支付负载
- **POST /settle** - 在链上结算支付
- **POST /fee/quote** - 获取费用报价

## 4. 测试您的集成

验证步骤：

1. 向您的端点发起请求
2. 服务器响应 402 Payment Required，包含支付说明
3. 使用兼容的客户端完成支付
4. 使用 PAYMENT-SIGNATURE 头重试请求
5. 服务器通过促进者验证支付并返回您的 API 响应

## 5. 错误处理

- 确保促进者正在运行且可访问
- 检查您的 TRON 钱包地址是否有效

## 在主网上运行

### 1. 更新网络配置

从测试网更改为主网

### 2. 更新您的促进者

- 更新环境变量以使用主网凭证
- 确保促进者钱包有 TRX 用于能量/带宽费用
- 更新促进者网络配置

### 3. 更新您的钱包

确保您的接收钱包地址是真实的主网地址

### 4. 使用真实支付进行测试

- 首先使用小额进行测试
- 验证支付是否到达您的钱包
- 监控促进者是否有任何问题

## 网络标识符

- **TRON 主网**：tron:mainnet
- **TRON Nile 测试网**：tron:nile
- **TRON Shasta 测试网**：tron:shasta

## 总结

本快速入门涵盖了：

- 安装 x402-tron SDK
- 为您的 API 端点添加支付保护
- 运行促进者以进行支付验证和结算
- 在测试网上测试您的集成
- 部署到 TRON 主网

您的 API 现在已准备好通过 x402-tron 接受基于 TRON 的支付。
